<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>JSQRL User Account</title>
    <div th:replace="common/imports"></div>
</head>
<body>

<div th:replace="common/header"></div>

<div class="container">
    <div th:if="${#httpServletRequest.userPrincipal.principal.firstName != null}" th:inline="text">

        <div>
            <h2>JSQRL Demo Account Information</h2>
        </div>

        <form method="post" action="/users">
            <div class="form-group">
                <label for="nameInput">Name</label>
                <input type="text" name="firstName" class="form-control" id="nameInput" placeholder="Name"
                       th:value="${#httpServletRequest.userPrincipal.principal.firstName}"/>
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" name="email" class="form-control" id="exampleInputEmail1"
                       aria-describedby="emailHelp" placeholder="Enter email"
                       th:value="${#httpServletRequest.userPrincipal.principal.email}"/>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">SQRL ID</label>
                <div class="col-sm-10">
                    <p class="form-control-static">[[${#httpServletRequest.userPrincipal.principal.identityKey}]]</p>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">SQRL Server Unlock Key</label>
                <div class="col-sm-10">
                    <p class="form-control-static">
                        [[${#httpServletRequest.userPrincipal.principal.serverUnlockKey}]]</p>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">SQRL Verify Unlock Key</label>
                <div class="col-sm-10">
                    <p class="form-control-static">
                        [[${#httpServletRequest.userPrincipal.principal.verifyUnlockKey}]]</p>
                </div>
            </div>
            <input type="submit" value="Update" class="btn btn-primary"/>
        </form>

    </div>
    <div th:if="${#httpServletRequest.userPrincipal.principal.firstName == null}">
        <div>
            <p>Hello. It appears we do not have your user information. Please register!</p>
        </div>
        <form method="post" action="/users">
            <div class="form-group">
                <label for="nameRegister">Name</label>
                <input type="text" name="firstName" class="form-control" id="nameRegister" placeholder="Name"/>
            </div>
            <div class="form-group">
                <label for="emailRegister">Email address</label>
                <input type="email" name="email" class="form-control" id="emailRegister" placeholder="E-mail Address"/>
            </div>
            <input type="submit" class="btn btn-primary" value="Register"/>
        </form>
    </div>
</div>
</body>
</html>